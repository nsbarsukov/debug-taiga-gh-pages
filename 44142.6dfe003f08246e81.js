(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44142],{44142:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var a,o=n(84911),i=n(4594),r=n(35548),c=n(66094),l=n(97177),s=n(39527),g=n(42436),h=n(39998),d=n(51160),u=n(97318),f=n(72265),p=n(13565);function m(t,e){if(1&t&&(r.TgZ(0,"span",7)(1,"small",8),r._uU(2),r.qZA()()),2&t){const t=e.index;r.xp6(2),r.hij("Chart ",t+1,"")}}function x(t,e){if(1&t&&(r._UZ(0,"tui-line-days-chart",13),r.ALo(1,"tuiFilter")),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("height",200)("value",r.Dn7(1,2,t,n.filter,n.range))}}function y(t,e){if(1&t&&(r.ynx(0),r.YNc(1,x,2,6,"tui-line-days-chart",12),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",t.days)}}function w(t,e){if(1&t&&(r._UZ(0,"tui-line-chart",15),r.ALo(1,"tuiMapper"),r.ALo(2,"tuiFilter")),2&t){const t=e.$implicit,n=r.oxw(3);r.Q6J("height",200)("value",r.Dn7(1,3,r.Dn7(2,7,t,n.filter,n.range),n.toNumbers,n.range))("width",n.getWidth(n.range))}}function M(t,e){if(1&t&&r.YNc(0,w,3,11,"tui-line-chart",14),2&t){const t=r.oxw(2);r.Q6J("ngForOf",t.days)}}function O(t,e){if(1&t&&(r.TgZ(0,"tui-axes",9),r.YNc(1,y,2,1,"ng-container",10),r.YNc(2,M,1,1,"ng-template",null,11,r.W1O),r.qZA()),2&t){const t=e.ngIf,n=r.MAs(3),a=r.oxw(),o=r.MAs(15);r.Q6J("axisXLabels",t)("horizontalLines",4)("tuiLineChartHint",o)("verticalLines",t.length-1),r.xp6(1),r.Q6J("ngIf",a.getWidth(a.show)>90)("ngIfElse",n)}}function L(t,e){if(1&t&&(r.TgZ(0,"div",7)(1,"span",17),r._uU(2),r.qZA()()),2&t){const t=e.$implicit;r.xp6(2),r.hij("$",t[1].toFixed(0),"")}}function v(t,e){if(1&t&&(r.TgZ(0,"div",16)(1,"strong"),r._uU(2),r.qZA()(),r.TgZ(3,"div"),r.YNc(4,L,3,1,"div",4),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.xp6(2),r.Oqu(n.getDate(t[0][0],n.range.from)),r.xp6(2),r.Q6J("ngForOf",t)}}class C{constructor(){this.isE2E=(0,r.f3M)(s.oDT),this.months$=(0,r.f3M)(g.$Rv),this.data=new s.VRe(s.TU1.currentLocal(),s.TU1.currentLocal().append({month:5})),this.show=this.data,this.days=this.random(this.data),this.maxLength={month:6},this.filter=([t],{from:e,to:n})=>t.daySameOrAfter(e)&&t.daySameOrBefore(n),this.toNumbers=(t,{from:e})=>t.map((([t,n])=>[s.TU1.lengthBetween(e,t),n]))}get range(){return this.computeRange(this.show)}getWidth({from:t,to:e}){return s.TU1.lengthBetween(t,e)}getDate(t,e){return t instanceof s.TU1?t:e.append({day:t})}labels({from:t,to:e}){const n=s.TU1.lengthBetween(t,e);if(n>90)return this.months$.pipe((0,d.U)((n=>[...Array.from({length:s.qld.lengthBetween(t,e)+1},((e,a)=>n[t.append({month:a}).month])),""])));const a=Array.from({length:n},((e,n)=>t.append({day:n}))),o=function(t){return t.filter((t=>!t.dayOfWeek())).map(String)}(a),i=a.map(String);return n>60?(0,u.of)([...U(o),""]):n>14?(0,u.of)([...o,""]):n>7?(0,u.of)([...U(i),""]):(0,u.of)([...i,""])}onDataChange(t){this.days=this.random(t)}computeRange(t){const{from:e,to:n}=t,a=s.TU1.lengthBetween(e,n),o=e.dayOfWeek(),i=n.dayOfWeek(),r=o?e.append({day:7-o}):e,c=i?n.append({day:7-i}):n,l=s.TU1.lengthBetween(r,c);return a>90?t:a>60?new s.VRe(r,c.append({day:l%14})):a>14?new s.VRe(r,c):new s.VRe(e,n.append({day:a%2}))}generateRandomData({from:t,to:e},n){return new Array(s.TU1.lengthBetween(t,e)+1).fill(0).reduce(((e,a,o)=>[...e,[t.append({day:o}),this.isE2E?n:Math.max((o?e[o-1][1]:n)+10*Math.random()-5,0)]]),[]).filter((([t])=>t.dayOfWeek()<5))}random(t){return[this.generateRandomData(t,100),this.generateRandomData(t,75),this.generateRandomData(t,50)]}}(a=C).ɵfac=function(t){return new(t||a)},a.ɵcmp=r.Xpm({type:a,selectors:[["ng-component"]],standalone:!0,exportAs:"Example2",features:[r.jDz],decls:16,vars:8,consts:[[1,"controls"],[3,"maxLength","ngModel","ngModelChange"],[1,"tui-space_left-4",3,"maxLength","ngModel","ngModelChange"],[1,"legend"],["class","item",4,"ngFor","ngForOf"],["class","axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines",4,"ngIf"],["hint",""],[1,"item"],[1,"name"],[1,"axes",3,"axisXLabels","horizontalLines","tuiLineChartHint","verticalLines"],[4,"ngIf","ngIfElse"],["line",""],["class","chart",3,"height","value",4,"ngFor","ngForOf"],[1,"chart",3,"height","value"],["class","chart",3,"height","value","width",4,"ngFor","ngForOf"],[1,"chart",3,"height","value","width"],[1,"tui-space_bottom-2"],[1,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"tui-notification")(1,"div")(2,"code"),r._uU(3,"TuiLineDaysChart"),r.qZA(),r._uU(4," is used to show data of several months to simplify working with different number of days in months "),r.qZA()(),r.TgZ(5,"p",0)(6,"tui-input-date-range",1),r.NdJ("ngModelChange",(function(t){return e.data=t}))("ngModelChange",(function(t){return e.onDataChange(t)})),r._uU(7," Data "),r.qZA(),r.TgZ(8,"tui-input-date-range",2),r.NdJ("ngModelChange",(function(t){return e.show=t})),r._uU(9," Visible range "),r.qZA()(),r.TgZ(10,"p",3),r.YNc(11,m,3,1,"span",4),r.qZA(),r.YNc(12,O,4,6,"tui-axes",5),r.ALo(13,"async"),r.YNc(14,v,5,2,"ng-template",null,6,r.W1O)),2&t&&(r.xp6(6),r.Q6J("maxLength",e.maxLength)("ngModel",e.data),r.xp6(2),r.Q6J("maxLength",e.maxLength)("ngModel",e.show),r.xp6(3),r.Q6J("ngForOf",e.days),r.xp6(1),r.Q6J("ngIf",r.lcZ(13,6,e.labels(e.show))))},dependencies:[g.tK9,h.sR_,f.H,p.d,c.u5,c.JJ,c.On,l.Sb,i.sg,i.O5,i.Ov,l.eL,l.gE,s.SIY,l.Ly,s.cLK],styles:['.axes[_ngcontent-%COMP%]{height:12.5rem}.controls[_ngcontent-%COMP%]{display:flex}.controls[_ngcontent-%COMP%]   tui-input-date-range[_ngcontent-%COMP%]{flex:1}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.item[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);display:flex;align-items:center;margin:0 .75rem}.item[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.item[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}.item[_ngcontent-%COMP%]:before{content:"";border-bottom:.125rem solid;width:1rem;margin-right:.5rem}.name[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.value[_ngcontent-%COMP%]{color:#fff}.chart[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-01);position:absolute;top:0;left:0;width:100%;height:100%}.chart[_ngcontent-%COMP%]:first-child{color:var(--tui-chart-categorical-08)}.chart[_ngcontent-%COMP%]:last-child{color:var(--tui-chart-categorical-12)}'],changeDetection:0}),(0,o.gn)([s.UMq],C.prototype,"getWidth",null),(0,o.gn)([s.UMq],C.prototype,"getDate",null),(0,o.gn)([s.UMq],C.prototype,"labels",null),(0,o.gn)([s.UMq],C.prototype,"computeRange",null),(0,o.gn)([s.UMq],C.prototype,"generateRandomData",null);const _=C;function U(t){return t.filter(((t,e)=>!(e%2)))}}}]);