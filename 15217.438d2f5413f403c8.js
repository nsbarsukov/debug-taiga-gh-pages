(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[15217],{15217:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var o,i=n(84911),s=n(4594),r=n(35548),a=n(66094),c=n(9627),l=n(39527),u=n(42436),d=n(37109),p=n(39998),f=n(28598),g=n(29655);function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",6),r.NdJ("click",(function(){const t=r.CHM(e).$implicit,n=r.oxw(3),o=r.MAs(1);return r.KtG(n.onClick(t.login,o.nativeFocusableElement))})),r._uU(1),r.TgZ(2,"tui-avatar",7),r._uU(3),r.ALo(4,"tuiInitials"),r.qZA()()}if(2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e.name," "),r.xp6(1),r.Q6J("src",e.avatar),r.xp6(1),r.hij(" ",r.lcZ(4,3,e.name)," ")}}function w(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tui-data-list",4),r.NdJ("keydown.escape",(function(){r.CHM(e),r.oxw(2);const t=r.MAs(1);return r.KtG(t.nativeFocusableElement.focus())})),r.YNc(1,m,5,5,"button",5),r.qZA()}if(2&e){const e=r.oxw(2),t=r.MAs(1);r.xp6(1),r.Q6J("ngForOf",e.filterItems(t.nativeFocusableElement))}}function h(e,t){if(1&e&&r.YNc(0,w,2,1,"tui-data-list",3),2&e){r.oxw();const e=r.MAs(1);r.Q6J("ngIf",e.nativeFocusableElement)}}class v{constructor(){this.options=l.Mmc,this.value="Type @ to see a dropdown",this.items=[{name:"Alexander Inkin",avatar:c.Ll`/images/avatar.jpg`,login:"a.inkin"},{name:"Roman Sedov",avatar:"",login:"r.sedov"}],this.predicate=e=>(0,u.DII)(e).toString().startsWith("@")}onArrow(e,t){const n=this.options[t];n&&(e.preventDefault(),n.nativeElement.focus())}filterItems(e){const t=this.getCurrentSearch(e).replace("@","");return this.getFilteredItems(this.items,t)}onClick(e,t){const n=this.getCurrentSearch(t),o=this.value.replace(n,e),i=o.indexOf(e)+e.length;this.value=o,t.focus(),t.value=o,t.setSelectionRange(i,i)}getFilteredItems(e,t){return e.filter((({name:e,login:n})=>n.startsWith(t)||e.startsWith(t)))}getCurrentSearch(e){return e.value.slice(e.value.indexOf("@"),e.selectionStart)}}(o=v).ɵfac=function(e){return new(e||o)},o.ɵcmp=r.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&(r.Gf(u.kkl,5),r.Gf(u.bHd,5,r.SBq)),2&e){let e;r.iGM(e=r.CRH())&&(t.driver=e.first),r.iGM(e=r.CRH())&&(t.options=e)}},standalone:!0,exportAs:"Example2",features:[r.jDz],decls:6,vars:6,consts:[["tuiDropdownSelectionPosition","word",3,"pseudoFocus","tuiDropdown","tuiDropdownSelection","ngModel","ngModelChange","keydown.arrowDown","keydown.arrowUp"],["textarea",""],["dropdown",""],["class","menu",3,"keydown.escape",4,"ngIf"],[1,"menu",3,"keydown.escape"],["tuiOption","",3,"click",4,"ngFor","ngForOf"],["tuiOption","",3,"click"],["size","s",3,"src"]],template:function(e,t){if(1&e&&(r.TgZ(0,"tui-textarea",0,1),r.NdJ("ngModelChange",(function(e){return t.value=e}))("keydown.arrowDown",(function(e){return t.onArrow(e,"first")}))("keydown.arrowUp",(function(e){return t.onArrow(e,"last")})),r.ALo(2,"async"),r._uU(3," Type a message\n"),r.qZA(),r.YNc(4,h,1,1,"ng-template",null,2,r.W1O)),2&e){const e=r.MAs(5);r.Q6J("pseudoFocus",r.lcZ(2,4,t.driver)||null)("tuiDropdown",e)("tuiDropdownSelection",t.predicate)("ngModel",t.value)}},dependencies:[p.MuE,f.FC,g.B,u.tdC,u.p$T,a.u5,a.JJ,a.On,s.Ov,u.qiE,u.bHd,s.O5,s.sg,d.nV$,u.XCq],styles:[".menu[_ngcontent-%COMP%]{width:12.5rem}"],changeDetection:0}),(0,i.gn)([l.UMq],v.prototype,"getFilteredItems",null);const k=v}}]);