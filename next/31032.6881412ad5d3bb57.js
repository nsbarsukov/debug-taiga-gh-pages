(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[31032],{31032:(t,n,e)=>{e.r(n),e.d(n,{default:()=>K});var i=e(4594),o=e(66094),a=e(11742),c=e(39527),s=e(42436),r=e(37109),u=e(39998),l=e(60902),h=e(29963),d=e(75123),g=e(275),p=e(905),m=e(89407),f=e(51160),x=e(13591),b=e(84439),C=e(35548),Z=e(46953),A=e(85454),J=e(21805),w=e(7911),T=e(37385),M=e(85144),$=e(59756),y=e(74922);function q(t,n){if(1&t){const t=C.EpF();C.TgZ(0,"tui-reorder",7),C.NdJ("itemsChange",(function(n){C.CHM(t);const e=C.oxw();return C.KtG(e.initial=n)}))("enabledChange",(function(n){C.CHM(t);const e=C.oxw();return C.KtG(e.onEnabled(n))})),C.qZA()}if(2&t){const t=C.oxw();C.Q6J("enabled",t.enabled)("items",t.initial)}}function Q(t,n){1&t&&(C.TgZ(0,"th",14),C._uU(1," Name "),C.qZA())}function N(t,n){1&t&&(C.TgZ(0,"th",14),C._uU(1," Date of Birth "),C.qZA())}function U(t,n){1&t&&(C.TgZ(0,"th",14),C._uU(1," Age "),C.qZA())}function _(t,n){if(1&t&&(C.TgZ(0,"td",19),C._uU(1),C.qZA()),2&t){const t=C.oxw().$implicit,n=C.oxw(3);C.ekj("match",n.isMatch(t.name)),C.xp6(1),C.hij(" ",t.name," ")}}function O(t,n){if(1&t&&(C.TgZ(0,"td",19),C._uU(1),C.qZA()),2&t){const t=C.oxw().$implicit,n=C.oxw(3);C.ekj("match",n.isMatch(t.dob)),C.xp6(1),C.hij(" ",t.dob," ")}}function B(t,n){if(1&t&&(C.TgZ(0,"td",19),C._uU(1),C.qZA()),2&t){const t=C.oxw().$implicit,n=C.oxw(3);C.ekj("match",n.isMatch(n.getAge(t))),C.xp6(1),C.hij(" ",n.getAge(t)," ")}}function H(t,n){1&t&&(C.TgZ(0,"tr",17),C.YNc(1,_,2,3,"td",18),C.YNc(2,O,2,3,"td",18),C.YNc(3,B,2,3,"td",18),C.qZA()),2&t&&(C.xp6(1),C.Q6J("tuiCell","name"),C.xp6(1),C.Q6J("tuiCell","dob"),C.xp6(1),C.Q6J("tuiCell","age"))}function L(t,n){if(1&t&&(C.TgZ(0,"tbody",15),C.YNc(1,H,4,3,"tr",16),C.qZA()),2&t){const t=n.tuiLet;C.Q6J("data",t),C.xp6(1),C.Q6J("ngForOf",t)}}function S(t,n){if(1&t){const t=C.EpF();C.TgZ(0,"table",8),C.NdJ("directionChange",(function(n){C.CHM(t);const e=C.oxw();return C.KtG(e.direction$.next(n))}))("tuiSortByChange",(function(n){C.CHM(t);const e=C.oxw();return C.KtG(e.sorter$.next(n))})),C.ALo(1,"async"),C.ALo(2,"async"),C.TgZ(3,"thead")(4,"tr",9),C.YNc(5,Q,2,0,"th",10),C.YNc(6,N,2,0,"th",10),C.YNc(7,U,2,0,"th",10),C.qZA()(),C.YNc(8,L,2,2,"tbody",11),C.ALo(9,"tuiTableSort"),C.TgZ(10,"tfoot")(11,"tr")(12,"td",12)(13,"tui-table-pagination",13),C.NdJ("paginationChange",(function(n){C.CHM(t);const e=C.oxw();return C.KtG(e.onPagination(n))})),C.ALo(14,"async"),C.qZA()()()()()}if(2&t){const t=n.ngIf,e=C.oxw();C.Q6J("columns",e.columns)("direction",C.lcZ(1,9,e.direction$)||1)("tuiSortBy",C.lcZ(2,11,e.sorter$)),C.xp6(5),C.Q6J("tuiHead","name"),C.xp6(1),C.Q6J("tuiHead","dob"),C.xp6(1),C.Q6J("tuiHead","age"),C.xp6(1),C.Q6J("tuiLet",C.lcZ(9,13,t)),C.xp6(4),C.Q6J("colSpan",e.columns.length),C.xp6(1),C.Q6J("total",C.lcZ(14,15,e.total$)||0)}}const k=c.TU1.currentLocal(),v=["John","Jane","Jack","Jill","James","Joan","Jim","Julia","Joe","Julia"],D=["Smith","West","Brown","Jones","Davis","Miller","Johnson","Jackson","Williams","Wilson"],P=Array.from({length:300},(()=>({name:`${D[Math.floor(10*Math.random())]}, ${v[Math.floor(10*Math.random())]}`,dob:k.append({day:-Math.floor(4e3*Math.random())-7500})}))),Y={Name:"name",Age:"age","Date of Birth":"dob"};function j({dob:t}){const n=k.year-t.year,e=k.month-t.month,i=k.day-t.day;return n+(0,c.HWE)(e>0||!e&&i>9)}const K=(()=>{var t;class n{constructor(){this.size$=new l.X(10),this.page$=new l.X(0),this.direction$=new l.X(-1),this.sorter$=new l.X("name"),this.minAge=new o.NI(21),this.request$=(0,h.a)([this.sorter$,this.direction$,this.page$,this.size$,(0,c.EKY)(this.minAge)]).pipe((0,d.b)(0),(0,g.w)((t=>this.getData(...t).pipe((0,p.O)(null)))),(0,m.B)()),this.initial=["Name","Date of Birth","Age"],this.enabled=this.initial,this.columns=["name","dob","age"],this.search="",this.loading$=this.request$.pipe((0,f.U)(c.Mv9)),this.total$=this.request$.pipe((0,x.h)(c.PcC),(0,f.U)((({length:t})=>t)),(0,p.O)(1)),this.data$=this.request$.pipe((0,x.h)(c.PcC),(0,f.U)((t=>t.filter(c.PcC))),(0,p.O)([])),this.getAge=j}onEnabled(t){this.enabled=t,this.columns=this.initial.filter((n=>t.includes(n))).map((t=>Y[t]))}onDirection(t){this.direction$.next(t)}onPagination({page:t,size:n}){this.page$.next(t),this.size$.next(n)}isMatch(t){return!!this.search&&(0,c.LQM)(t,this.search)}getData(t,n,e,i,o){console.info("Making a request");const a=e*i,s=a+i,r=[...P].sort(function(t,n){return(e,i)=>"age"===t?n*(0,c.A2j)(j(e),j(i)):n*(0,c.A2j)(e[t],i[t])}(t,n)).filter((t=>j(t)>=o)).map(((t,n)=>n>=a&&n<s?t:null));return(0,b.H)(3e3).pipe((0,f.U)((()=>r)))}}return(t=n).ɵfac=function(n){return new(n||t)},t.ɵcmp=C.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,exportAs:"Example4",features:[C.jDz],decls:13,vars:11,consts:[["tuiTextfieldSize","m",1,"filters"],[1,"input",3,"tuiTextfieldCleaner","ngModel","ngModelChange"],["decimal","never",1,"tui-space_horizontal-3",3,"formControl"],["size","m","tuiButton","","tuiChevron","","tuiDropdownOpen","","type","button",3,"tuiDropdown"],["dropdown",""],[3,"overlay","showLoader"],["tuiTable","","class","table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange",4,"ngIf"],[1,"columns",3,"enabled","items","itemsChange","enabledChange"],["tuiTable","",1,"table",3,"columns","direction","tuiSortBy","directionChange","tuiSortByChange"],["tuiThGroup",""],["tuiSortable","","tuiTh","",4,"tuiHead"],["tuiTbody","",3,"data",4,"tuiLet"],[3,"colSpan"],[1,"tui-space_top-2",3,"total","paginationChange"],["tuiSortable","","tuiTh",""],["tuiTbody","",3,"data"],["tuiTr","",4,"ngFor","ngForOf"],["tuiTr",""],["tuiTd","",3,"match",4,"tuiCell"],["tuiTd",""]],template:function(t,n){if(1&t&&(C.TgZ(0,"p",0)(1,"tui-input",1),C.NdJ("ngModelChange",(function(t){return n.search=t})),C._uU(2," Find on page "),C.qZA(),C.TgZ(3,"tui-input-number",2),C._uU(4," Minimum age "),C.qZA(),C.TgZ(5,"button",3),C._uU(6," Columns "),C.qZA(),C.YNc(7,q,1,2,"ng-template",null,4,C.W1O),C.qZA(),C.TgZ(9,"tui-loader",5),C.ALo(10,"async"),C.YNc(11,S,15,17,"table",6),C.ALo(12,"async"),C.qZA()),2&t){const t=C.MAs(8);C.xp6(1),C.Q6J("tuiTextfieldCleaner",!0)("ngModel",n.search),C.xp6(2),C.Q6J("formControl",n.minAge),C.xp6(2),C.Q6J("tuiDropdown",t),C.xp6(4),C.Q6J("overlay",!0)("showLoader",!!C.lcZ(10,7,n.loading$)),C.xp6(2),C.Q6J("ngIf",C.lcZ(12,9,n.data$))}},dependencies:[a.c4,a.s6,a.PU,a.PW,a.dw,a.Zh,a.hK,a.kA,a.li,a.IU,a.yS,u.cnw,Z.b,A.s,u.QfL,J.K,w.w,T.t,M.B,u._Hh,$.q,y.g,a.KB,s.A61,i.Ov,i.O5,a.o5,o.UX,o.JJ,o.oH,s.xGO,r.HTj,o.u5,o.On,i.sg,c.iM$],styles:[".table[_ngcontent-%COMP%]{width:100%}.filters[_ngcontent-%COMP%]{display:flex}.input[_ngcontent-%COMP%]{flex:1}.columns[_ngcontent-%COMP%]{width:10.625rem}.match[_ngcontent-%COMP%]{background:var(--tui-service-selection-background)}"],changeDetection:0}),n})()}}]);