(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[44905],{44905:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Q});var s,i=n(84911),a=n(4594),o=n(66094),c=n(9627),l=n(39527),u=n(37109),r=n(39998),h=n(13448),p=n(19403),g=n(275),f=n(51160),d=n(64870),m=n(905),x=n(29963),v=n(97318),C=n(89407),$=n(35548),w=n(38252),M=n(63142),Z=n(53958),N=n(42436);function b(t,e){if(1&t){const t=$.EpF();$.TgZ(0,"button",6),$.NdJ("click",(function(){const e=$.CHM(t).$implicit,n=$.oxw(4);return $.KtG(n.onClick(e))})),$.TgZ(1,"tui-avatar",7),$._uU(2),$.qZA(),$.TgZ(3,"span",8)(4,"span"),$._uU(5),$.qZA(),$.TgZ(6,"span",9),$._uU(7),$.qZA()()()}if(2&t){const t=e.$implicit;$.Q6J("disabled",t.disabled)("value",t.phone),$.xp6(1),$.Q6J("src",t.avatarUrl),$.xp6(1),$.hij(" ",t.firstName," "),$.xp6(3),$.AsE("",t.firstName," ",t.lastName,""),$.xp6(2),$.Oqu(t.phone)}}function T(t,e){if(1&t&&($.TgZ(0,"tui-data-list"),$.YNc(1,b,8,7,"button",5),$.qZA()),2&t){const t=$.oxw(2).tuiLet;$.xp6(1),$.Q6J("ngForOf",t)}}function q(t,e){1&t&&($.ynx(0),$.YNc(1,T,2,1,"tui-data-list",4),$.BQk())}function A(t,e){if(1&t){const t=$.EpF();$.TgZ(0,"tui-input-phone",2),$.NdJ("ngModelChange",(function(e){$.CHM(t);const n=$.oxw();return $.KtG(n.value=e)}))("searchChange",(function(e){$.CHM(t);const n=$.oxw();return $.KtG(n.onSearch(e))})),$._uU(1),$.ALo(2,"async"),$.YNc(3,q,2,0,"ng-container",3),$.qZA()}if(2&t){const t=e.tuiLet,n=$.oxw(),s=$.MAs(3);$.Q6J("allowText",!0)("tuiTextfieldCustomContent",s)("ngModel",n.value),$.xp6(1),$.hij(" ",$.lcZ(2,5,n.placeholder$)," "),$.xp6(2),$.Q6J("ngIf",null==t?null:t.length)}}function O(t,e){if(1&t&&($.TgZ(0,"tui-avatar",11),$._uU(1),$.qZA()),2&t){const t=e.ngIf;$.Q6J("src",t.avatarUrl),$.xp6(1),$.hij(" ",t.firstName," ")}}function U(t,e){if(1&t&&($.YNc(0,O,2,2,"tui-avatar",10),$.ALo(1,"async")),2&t){const t=$.oxw();$.Q6J("ngIf",$.lcZ(1,1,t.user$))}}class k{constructor(t,e,n,s=null,i=!1){this.firstName=t,this.lastName=e,this.phone=n,this.avatarUrl=s,this.disabled=i}toString(){return`${this.firstName} ${this.lastName}`}}const J=[new k("Roman","Sedov","+75678901234","https://avatars.githubusercontent.com/u/10106368"),new k("Alex","Inkin","+75678901234",c.Ll`/images/avatar.jpg`)];class L{constructor(){this.search$=new h.x,this.selected$=new h.x,this.value="",this.user$=(0,p.T)(this.selected$,this.search$.pipe((0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?e[0]:null))))))).pipe((0,d.b)((t=>{t&&(this.value=t.phone)}))),this.items$=this.search$.pipe((0,m.O)(""),(0,g.w)((t=>this.request(t).pipe((0,f.U)((e=>this.isFullMatch(e,t)?[]:e)))))),this.placeholder$=(0,x.a)([this.user$,this.search$]).pipe((0,f.U)((([t,e])=>t||this.getPlaceholder(e))),(0,m.O)("Phone number or name"))}onSearch(t){this.search$.next(t)}onClick(t){this.selected$.next(t)}request(t){return(0,v.of)(J.filter((e=>(0,l.LQM)(e,t)||(0,l.LQM)(e.phone,t)))).pipe((0,C.B)())}getPlaceholder(t){return t?t.startsWith("+")?"Phone number":"Name":"Phone number or name"}isFullMatch(t,e){return 1===t.length&&(String(t[0])===e||t[0].phone===e)}}(s=L).ɵfac=function(t){return new(t||s)},s.ɵcmp=$.Xpm({type:s,selectors:[["ng-component"]],standalone:!0,exportAs:"Example3",features:[$.jDz],decls:6,vars:4,consts:[[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange",4,"tuiLet"],["avatar",""],[3,"allowText","tuiTextfieldCustomContent","ngModel","ngModelChange","searchChange"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"disabled","value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"disabled","value","click"],["size","s",1,"tui-space_right-3",3,"src"],[1,"user"],[1,"phone"],["size","s",3,"src",4,"ngIf"],["size","s",3,"src"]],template:function(t,e){1&t&&($.YNc(0,A,4,7,"tui-input-phone",0),$.ALo(1,"async"),$.YNc(2,U,2,3,"ng-template",null,1,$.W1O),$.TgZ(4,"p"),$._uU(5),$.qZA()),2&t&&($.Q6J("tuiLet",$.lcZ(1,2,e.items$)),$.xp6(5),$.hij("Value: ",e.value,""))},dependencies:[r.Kjg,w.y,M.X,l.iM$,a.Ov,r.cnw,Z.B,o.u5,o.JJ,o.On,a.O5,N.qiE,N.gXS,N.bHd,a.sg,u.nV$],styles:[".user[_ngcontent-%COMP%]{margin-right:auto}.phone[_ngcontent-%COMP%]{font:var(--tui-font-text-s);display:block;color:var(--tui-text-tertiary)}"],changeDetection:0}),(0,i.gn)([l.UMq],L.prototype,"request",null);const Q=L}}]);